<html>
  <head>
    <meta charset="utf-8">
    <title>pi-robo-cam</title>
    <link rel="stylesheet" href="main.css">
    <script src="libs/d3.v3.min.js" charset="utf-8"></script>
    <script src="libs/lodash.min.js" charset="utf-8"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io();
      socket.on('xyz', function (data) {
        console.log(data);
      });
    </script>
    <style>

.horizon {
  stroke: #333;
  stroke-width: 4px;
}

.fixed {
  stroke: #880;
  stroke-width: 1px;
}

    </style>
  </head>
  <body>
    <h1>index.html</h1>
    <script>

var width = 960,
    height = 500;

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
  .append("g")
.attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

fixed = svg.append("line").attr("class", "fixed");
horizon = svg.append("line").attr("class", "horizon");

var ease = d3.ease("cubic-in-out"),
    duration = 7500;

d3.timer(function(elapsed) {
  var t = ease(1 - Math.abs((elapsed % duration) / duration - .5) * 2),
      startAngle = -Math.PI * 2 * t;

      h = [200*Math.sin(startAngle), 200*Math.cos(startAngle)];

  horizon.attr("x1", h[0]).attr("y1", h[1]).attr("x2", -h[0]).attr("y2", -h[1]);
  fixed.attr("x1", -200).attr("y1", 0).attr("x2", 200).attr("y2", 0);

});


</script>
  </body>
</html>
